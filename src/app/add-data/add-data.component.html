<form [formGroup]="dataForm" (ngSubmit)="onSubmit()" class="data-form">
  <div class="form-row">
    <div class="form-group">
      <label>Date & Time:</label>
      <input type="datetime-local" formControlName="datetime" />
      <div
        *ngIf="
          dataForm.controls['datetime'].invalid &&
          dataForm.controls['datetime'].touched
        "
      >
        <small
          *ngIf="dataForm.controls['datetime'].errors?.['required']"
          style="color: red"
          >Date and time are required</small
        >
        <small
          *ngIf="dataForm.controls['datetime'].errors?.['invalidDate']"
          style="color: red"
          >Date must be in the past</small
        >
      </div>
    </div>

    <div class="form-group">
      <label>Temperature:</label>
      <input type="number" formControlName="temperature" />
      <div
        *ngIf="
          dataForm.controls['temperature'].invalid &&
          dataForm.controls['temperature'].touched
        "
      >
        <small
          *ngIf="dataForm.controls['temperature'].errors?.['required']"
          style="color: red"
          >Temperature is required</small
        >
        <small
          *ngIf="dataForm.controls['temperature'].errors?.['min']"
          style="color: red"
          >Temperature too low</small
        >
        <small
          *ngIf="dataForm.controls['temperature'].errors?.['max']"
          style="color: red"
          >Temperature too high</small
        >
      </div>
    </div>
  </div>

  <button type="submit" [disabled]="dataForm.invalid">Add Data</button>
</form>

<ul class="data-list">
  <li *ngFor="let data of dataList">
    {{ data.datetime }} - {{ data.temperature }}Â°C
  </li>
</ul>
